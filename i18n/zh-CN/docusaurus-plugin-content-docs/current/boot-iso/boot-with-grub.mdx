---
sidebar_position: 2
hide_table_of_contents: true
---

# 使用GRUB引导Archcraft

如果你已经在设备上安装了 **Linux** 并且想在不创建可引导USB设备的情况下试用Archcraft，你可以使用GRUB2引导加载程序。请跟随以下步骤来使用GRUB2引导Archcraft ISO：

- 打开终端并且使用你喜欢的编辑器打开 **/etc/grub.d/40_custom** 。
```bash
$ sudo vim /etc/grub.d/40_custom
```

- 在文件中添加以下配置，用你的根目录分区来替代 **(hd0,X)** 的内容、用Archcraft ISO文件的路径替代 **/path/to/archcraft.iso**。

```bash
menuentry "Archcraft Live ISO" --class archcraft {
    set root='(hd0,X)'
    set isofile="/path/to/archcraft.iso"
    set dri="free"
    search --no-floppy -f --set=root $isofile
    probe -u $root --set=abc
    set pqr="/dev/disk/by-uuid/$abc"
    loopback loop $isofile
    linux  (loop)/arch/boot/x86_64/vmlinuz-linux img_dev=$pqr img_loop=$isofile driver=$dri quiet splash loglevel=3 udev.log_level=3 vt.global_cursor_default=0 cow_spacesize=5G copytoram=n
    initrd  (loop)/arch/boot/intel-ucode.img (loop)/arch/boot/amd-ucode.img (loop)/arch/boot/x86_64/initramfs-linux.img
}
```

- 保存文件并更新 **grub.cfg** ，GRUB的配置文件。

```bash
# On Arch Linux
$ sudo grub-mkconfig -o /boot/grub/grub.cfg
						
# On Ubuntu & its derivatives
$ sudo update-grub
```

- 在更新完该文件之后，重启并选择引导进入Archcraft Live。试用一下系统，你还可以在USB设备或者SD卡上安装它。
